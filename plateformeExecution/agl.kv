#:kivy 1.9.0

<BottomButton@Button>
    size_hint: .15, .15

<DropDownButton@Button>
    size_hint_y: None
    height: 50

ScreenManagement:
    ProjectScreen:
    MainScreen:

<ProjectScreen>:
    name: 'project_management'

    GridLayout:
        cols:1
        rows:2

        GridLayout:
            cols:2

            Label:
                text: 'Nom du projet : '
            TextInput:
                id: project_name
                text: "Nouveau projet"
                multiline: False
                focus: True
                padding: [50, ( self.height - self.line_height ) / 2]

        Button:
            on_release: app.root.current = 'other'
            text: 'Créer projet'
            font_size: 20
            on_press: root.init_all(project_name.text)

<MainScreen>:
    name: 'other'
    ref_tree_widget: refID
    on_enter: refID.update_tree()
    GridLayout:
        cols:1
        rows:3
        ActionBar:
            pos_hint: {'top':1}
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: root.action_bar_title
                    with_previous: False
                ActionButton:
                    text: 'Quitter'
                    on_press: quit()

        TabbedPanel:
            do_default_tab: False
            TabbedPanelItem:
                text: "Spécification"
                BoxLayout:
                    orientation: "horizontal"
                    BottomButton:
                        text: "Lancer DIA"
                        on_press: root.launch_dia()
            TabbedPanelItem:
                text: "Conception"
                BoxLayout:
                    orientation: "horizontal"
                    BottomButton:
                        text: "Lancer DIA"
                        on_press: root.launch_dia()
            TabbedPanelItem:
                text: "Réalisation"
                BoxLayout:
                    orientation: "horizontal"
                    BottomButton:
                        text: "Lancer IntelliJ IDEA"
                        on_press: root.launch_intellij()
            TabbedPanelItem:
                text: "Test"
                BoxLayout:
                    orientation: "horizontal"
                    BottomButton:
                        text: "Lancer Cucumber"
                        on_press: root.launch_intellij()
  
        RefTreeWidget:
            # NOTE: It's a FloatLayout
            id: refID