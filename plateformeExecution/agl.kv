#:kivy 1.9.0

<BottomButton@Button>
    size_hint: .15, .15

ScreenManagement:
    ProjectScreen:
    MainScreen:

<ProjectScreen>:
    name: 'project_management'


    GridLayout:
        cols:1
        rows:2

        TextInput:
            id: project_name
            text: "New project"
            multiline: False
            focus: True

        Button:
            on_release: app.root.current = 'other'
            text: 'Créer projet'
            font_size: 20
            on_press: root.init_project()

<MainScreen>:
    name: 'other'

    GridLayout:
        cols:1
        rows:2
        # this is the rule for your root widget, defining it's look and feel.
        ActionBar:
        #this is the auto provided ActionBar with some menus. Replace it with your
        #app structure
            pos_hint: {'top':1}
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: root.action_bar_title
                    with_previous: False
                ActionGroup:
                    text: 'Fichier'
                    mode: 'spinner'
                    size_hint_x: None
                    width: 90
                    ActionButton:
                        text: 'Nouveau'
                    ActionButton:
                        text: 'Ouvrir'
                    ActionButton:
                        text: 'Enregistrer'
                    ActionButton:
                        text: 'Enregistrer sous'
                    ActionButton:
                        text: 'Quitter'
                        on_press: quit()
        TabbedPanel:
            do_default_tab: False
            TabbedPanelItem:
                text: "Spécification"
                BoxLayout:
                    orientation: "horizontal"
                    ListView:
                        item_strings: root.get_specification_filenames()

                    BoxLayout:
                        orientation: "vertical"
                        Label:
                            text: "Vue du diagramme sélectionné"
                        BoxLayout:
                            BottomButton:
                                text: "lancer DIA"
                                on_press: root.launch_dia()
                            BottomButton:
                                text: "ajouter diagramme"

            TabbedPanelItem:
                text: "Conception"
                Label:
                    text: "panel de conception"
            TabbedPanelItem:
                text: "Réalisation"
                Label:
                    text: "panel de réalisation"
            TabbedPanelItem:
                text: "Test"
                Label:
                    text: "panel de test"