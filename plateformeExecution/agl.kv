#:kivy 1.9.0

<BottomButton@Button>
    size_hint: .15, .15

<MainPage>:
    GridLayout:
        cols:1
        rows:2
        # this is the rule for your root widget, defining it's look and feel.
        ActionBar:
        #this is the auto provided ActionBar with some menus. Replace it with your
        #app structure
            pos_hint: {'top':1}
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: root.action_bar_title
                    with_previous: False
                ActionGroup:
                    text: 'Fichier'
                    mode: 'spinner'
                    size_hint_x: None
                    width: 90
                    ActionButton:
                        text: 'Nouveau'
                    ActionButton:
                        text: 'Ouvrir'
                    ActionButton:
                        text: 'Enregistrer'
                    ActionButton:
                        text: 'Enregistrer sous'
                    ActionButton:
                        text: 'Quitter'
                        on_press: quit()
        TabbedPanel:
            do_default_tab: False
            TabbedPanelItem:
                text: "Spécification"
                BoxLayout:
                    orientation: "horizontal"
                    ListView:
                        size_hint: .8,.8
                        item_strings: ["Ligne du tableau " + str(index) for index in range(20)]
                    BoxLayout:
                        orientation: "vertical"
                        Label:
                            text: "Vue du diagramme sélectionné"
                        BoxLayout:
                            BottomButton:
                                text: "lancer DIA"
                                on_press: root.launch_dia()
                            BottomButton:
                                text: "ajouter diagramme"

            TabbedPanelItem:
                text: "Conception"
                Label:
                    text: "panel de conception"
            TabbedPanelItem:
                text: "Réalisation"
                Label:
                    text: "panel de réalisation"
            TabbedPanelItem:
                text: "Test"
                Label:
                    text: "panel de test"


ScreenManagement:
    ProjectScreen:
    MainScreen:

<ProjectScreen>:
    name: 'project_management'

    Button:
        on_release: app.root.current = 'other'
        text: 'Créer projet'
        font_size: 50

<MainScreen>:
    name: 'other'

    GridLayout:
        cols:1
        rows:2
        # this is the rule for your root widget, defining it's look and feel.
        ActionBar:
        #this is the auto provided ActionBar with some menus. Replace it with your
        #app structure
            pos_hint: {'top':1}
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: root.action_bar_title
                    with_previous: False
                ActionGroup:
                    text: 'Fichier'
                    mode: 'spinner'
                    size_hint_x: None
                    width: 90
                    ActionButton:
                        text: 'Nouveau'
                    ActionButton:
                        text: 'Ouvrir'
                    ActionButton:
                        text: 'Enregistrer'
                    ActionButton:
                        text: 'Enregistrer sous'
                    ActionButton:
                        text: 'Quitter'
                        on_press: quit()
        TabbedPanel:
            do_default_tab: False
            TabbedPanelItem:
                text: "Spécification"
                BoxLayout:
                    orientation: "horizontal"
                    ListView:
                        size_hint: .8,.8
                        item_strings: ["Ligne du tableau " + str(index) for index in range(20)]
                    BoxLayout:
                        orientation: "vertical"
                        Label:
                            text: "Vue du diagramme sélectionné"
                        BoxLayout:
                            BottomButton:
                                text: "lancer DIA"
                                on_press: root.launch_dia()
                            BottomButton:
                                text: "ajouter diagramme"

            TabbedPanelItem:
                text: "Conception"
                Label:
                    text: "panel de conception"
            TabbedPanelItem:
                text: "Réalisation"
                Label:
                    text: "panel de réalisation"
            TabbedPanelItem:
                text: "Test"
                Label:
                    text: "panel de test"